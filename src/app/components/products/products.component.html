<!-- products.component.html -->
<div class="container mt-3">
  <!-- Shopping Cart Summary -->


  <!-- Category Filter -->
  <div class="card-top container-fluid">
    <div class="container d-flex card-top-container mb-4">
      <div class="item">
        <a (click)="filter('')">
          <img src="assets/allproducts.png" alt="">
          <h6>All Products</h6>
        </a>
      </div>
      <div class="item">
        <a (click)="filter('laptop')">
          <img src="assets/laptop.png" alt="">
          <h6>Computers & Accessories</h6>
        </a>
      </div>
      <div class="item">
        <a (click)="filter('smartphone')">
          <img src="assets/Smartphones.png" alt="">
          <h6>Smartphones & Gadgets</h6>
        </a>
      </div>
      <div class="item">
        <a (click)="filter('gaming gadget')">
          <img src="assets/gaming.png" alt="">
          <h6>Gaming & Entertainment</h6>
        </a>
      </div>

    </div>
    <hr>
  </div>

  <!-- Products List -->
  <div class="container">
    <div class="row justify-content-center">
      <ng-container *ngFor="let item of filterCategory | filter:searchKey:'name'">
        <div class="card col-md-3">
          <div class="card-body d-flex justify-content-center align-items-center">
            <img *ngIf="item.image" [src]="item.image" alt="Product Image">
            <img *ngIf="!item.image" src="assets/placeholder.png" alt="Default Image">
          </div>

          <h5 class="title">{{item.name}}</h5>
          <p class="description">{{item.description}}</p>
          <div class="d-flex align-items-center justify-content-between">
            <p class="mb-0"><strong>${{item.price}}</strong></p>
            <div class='stars-rate ml-2'>
              <span class='full'>★</span>
              <span class='full'>★</span>
              <span class='full'>★</span>
              <span class='full'>★</span>
              <span class='empty'>☆</span>
              <a style="font-size: 12px;"> ({{item.rating?.count || 0}})</a>
            </div>
          </div>
          <div class="stock-info mb-2">
            <span [class.text-danger]="item.stock < 5" [class.text-success]="item.stock >= 5">
              Stock: {{item.stock}}
            </span>
          </div>
          <button class="btn btn-primary" [disabled]="item.stock <= 0" (click)="addToCart(item)">
            <i class="fa fa-cart-plus"></i> Add to cart
          </button>
          <a routerLink="/cart" class="btn btn-outline-primary">
            <i class="fa fa-shopping-cart"></i> View Cart
          </a>

        </div>
      </ng-container>
    </div>
  </div>
</div>